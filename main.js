(()=>{"use strict";const e=async e=>{const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=0dc5e3fb3361ed15f243a8433ec2d397`,{mode:"cors"}).catch((()=>null));if(null==t)return null;const n=await t.json();return"404"==n.cod?null:{description:n.weather[0].description,lon:n.coord.lon,lat:n.coord.lat,temp:n.main.temp,tempMax:n.main.temp_max,tempMin:n.main.temp_min,humidity:n.main.humidity,icon:n.weather[0].icon,name:n.name,windSpeed:n.wind.speed,feelsLike:n.main.feels_like}},t=document.getElementById("input-image"),n=document.getElementById("city-input"),i=document.getElementById("latitude"),d=document.getElementById("longitude"),o=document.getElementById("city-name"),c=document.querySelector("#temp-div .temp-value"),r=document.querySelector("#min-temp .temp-value"),m=document.querySelector("#max-temp .temp-value"),a=document.querySelector("#feels-like-temp .temp-value"),l=document.getElementById("description"),u=document.getElementById("humidity"),s=document.getElementById("wind-speed"),p=document.getElementById("toggle-unit-button"),y=document.querySelectorAll(".temp-div .temp-unit"),g=document.getElementById("weather-logo"),h=document.getElementById("loading-tyre-div"),w=document.getElementById("error-div"),E=document.getElementById("try-again-button");let f;function x(){n.classList.toggle("show-input")}function v(e){const t=[e.temp,e.tempMin,e.tempMax,e.feelsLike];p.innerText.includes("F")?[c,r,m,a].forEach(((e,n)=>{e.innerText=I(t[n])})):[c,r,m,a].forEach(((e,n)=>{e.innerText=(1.8*I(t[n])+32).toFixed(2)})),y.forEach((e=>{e.innerText=p.innerText.includes("F")?"C":"F"}))}function I(e){return(e-273.15).toFixed(2)}function T(){p.innerText.includes("F")?p.innerHTML="&#176;C":p.innerHTML="&#176;F",v(f)}async function k(t){w.classList.remove("show-error"),h.classList.add("show-loading"),f=await e(t),h.classList.remove("show-loading"),null!=f?function(e){i.innerText=e.lat,d.innerText=e.lon,o.innerText=e.name,l.innerText=e.description,u.innerText="Humidity : "+e.humidity+"%",s.innerText="Wind : "+e.windSpeed+" km/h",g.src=`http://openweathermap.org/img/wn/${e.icon}@2x.png`,document.body.style.backgroundImage=`url("./weather-backgrounds/${e.description.replace(/\s+/g,"")}.jpg") , url("./weather-backgrounds/fewclouds.jpg")`,v(e)}(f):w.classList.add("show-error")}function B(){k(n.value)}document.querySelector("#error-div p"),(async()=>{await k("Indore"),t.addEventListener("click",x),p.addEventListener("click",T),E.addEventListener("click",B),n.addEventListener("keyup",(e=>{13==e.keyCode&&B()}))})(),(async()=>{await e("Indore")})()})();